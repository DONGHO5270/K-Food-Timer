# K-Food 타이머 프로젝트 컨텍스트

## 1. 프로젝트 개요 요약

### 목적과 주요 목표
K-Food 타이머는 한국 간편식품(라면, 냉동식품, 즉석밥 등)의 조리 시간을 효과적으로 관리하기 위한 콘솔 기반 타이머 애플리케이션입니다. 이 애플리케이션은 다양한 한국 간편식품의 조리 시간을 정확하게 측정하고 알림을 제공하여 사용자가 쉽게 조리할 수 있도록 지원합니다.

### 핵심 기능과 구현 상태
| 기능 | 상태 | 설명 |
|------|------|------|
| 제품 데이터베이스 | 완료 | 다양한 한국 간편식품 정보와 조리 시간 관리 |
| 타이머 기능 | 완료 | 제품별 맞춤형 타이머 제공 |
| 조리 방법 안내 | 완료 | 각 제품의 단계별 조리 방법 제공 |
| 즐겨찾기 관리 | 완료 | 자주 사용하는 제품 즐겨찾기 기능 |
| 최근 사용 제품 | 완료 | 최근 사용한 제품 기록 및 표시 |
| 타이머 일시정지/재개 | 완료 | 진행 중인 타이머 제어 기능 |
| 알림 시스템 | 완료 | 타이머 완료 시 소리 알림 제공 |
| 콘솔 UI | 완료 | 사용자 친화적인 텍스트 기반 인터페이스 |

### 주요 성과와 마일스톤
- 기본 데이터베이스 구축 완료 (9개의 제품 정보)
- 핵심 타이머 기능 및 알림 시스템 구현 완료
- 콘솔 기반 UI 시스템 개발 완료

## 2. 기술적 구현 현황

### 주요 모듈 및 컴포넌트
| 모듈 | 파일 경로 | 기능 설명 |
|------|-----------|---------|
| 메인 애플리케이션 | `main.py` | 애플리케이션 진입점 및 전체 흐름 제어 |
| 제품 관리 | `modules/product_module.py` | 제품 데이터 로드, 저장, 검색 등 관리 |
| 타이머 | `modules/timer_module.py` | 타이머 생성, 시작, 정지, 일시정지 기능 |
| 설정 | `modules/settings_module.py` | 애플리케이션 설정 관리 |
| UI | `modules/ui_module.py` | 콘솔 기반 사용자 인터페이스 |
| 알림 | `modules/notification_module.py` | 타이머 완료 시 알림 관리 |
| 메뉴 | `modules/menu_module.py` | 메뉴 시스템 구현 |
| 유틸리티 | `modules/utils.py` | 공통 유틸리티 함수 |

### 핵심 파일 경로와 역할
- **`main.py`**: 애플리케이션의 진입점으로, 모든 모듈을 초기화하고 상호작용을 관리합니다.
- **`modules/product_module.py`**: 제품 데이터의 CRUD 작업을 담당하며, 제품 검색, 필터링, 정렬 기능을 제공합니다.
- **`modules/timer_module.py`**: 타이머 생성 및 관리 기능을 제공합니다. 타이머의 시작, 일시정지, 재개, 중지 기능을 구현합니다.
- **`modules/ui_module.py`**: 사용자 인터페이스를 담당하며, 메뉴 표시, 사용자 입력 처리, 정보 출력 등을 관리합니다.
- **`data/products.json`**: 제품 데이터를 저장하는 JSON 파일입니다.
- **`data/settings.json`**: 애플리케이션 설정을 저장하는 JSON 파일입니다.

### 모듈 간 상호작용과 의존성
- **KFoodTimer 클래스**: 애플리케이션의 핵심 클래스로 모든 모듈 간의 연결고리 역할을 합니다.
- **제품 모듈 → 타이머 모듈**: 제품 정보에서 조리 시간을 가져와 타이머를 설정합니다.
- **타이머 모듈 → 알림 모듈**: 타이머 완료 시 알림 모듈을 통해 사용자에게 알립니다.
- **UI 모듈 → 다른 모듈**: 사용자 입력을 받아 적절한 모듈에 전달하고 결과를 표시합니다.

## 3. 최근 작업 세션 요약

### 주요 작업과 변경사항
- 타이머 모듈에 일시정지/재개 기능 추가 및 개선
- 제품 데이터베이스에 3개의 새로운 제품 추가 (참깨라면, 해물파전, 흑미밥)
- 최근 사용된 제품 표시 기능 개선
- 알림 시스템 버그 수정

### 해결한 문제와 접근 방식
- **문제**: 타이머가 일시정지 상태에서 재개할 때 잘못된 시간을 표시하는 버그
  - **해결**: 타이머 일시정지 시점의 남은 시간을 정확히 저장하고 재개 시 이를 기준으로 계산하도록 수정
- **문제**: 제품 즐겨찾기 상태가 저장되지 않는 문제
  - **해결**: 즐겨찾기 상태 변경 후 자동 저장 로직 추가

### 새로운 통찰과 결정사항
- 콘솔 UI의 한계로 인해 향후 GUI 버전 개발 필요성 인식
- 사용자 정의 제품 추가 기능의 필요성 확인

## 4. 다음 작업 계획

### 미해결 문제
- 여러 타이머를 동시에 실행할 때 발생하는 UI 표시 문제
- 특정 환경에서 알림음이 재생되지 않는 문제
- 긴 제품 목록을 효율적으로 탐색할 수 있는 방법 필요

### 다음 세션 우선 작업
1. 여러 타이머 동시 실행 시 UI 개선
2. 사용자 정의 제품 추가 기능 구현
3. 플랫폼에 독립적인 알림 시스템 개선
4. 검색 기능 강화

### 중장기 로드맵
- GUI 버전 개발
- 카메라나 바코드 스캔을 통한 제품 인식 기능
- 모바일 앱 버전 개발
- 웹 서비스로의 확장 가능성 검토

## 5. 개발 환경 및 구성

### 주요 의존성 및 패키지 버전
프로젝트는 내장 라이브러리를 최대한 활용하여 외부 의존성을 최소화하였으며, 다음과 같은 개발용 패키지를 사용합니다:
```
pytest==7.3.1
pytest-cov==4.1.0
Sphinx==7.1.2
sphinx-rtd-theme==1.3.0
black==23.3.0
flake8==6.0.0
isort==5.12.0
```

### 개발, 테스트, 빌드 명령어
- **실행**: `python main.py`
- **테스트**: `python -m unittest discover tests`
- **문서 생성**: `cd docs && make html`
- **코드 포맷팅**: `black .`
- **린팅**: `flake8`

### 환경 설정 및 구성 파일
- **`requirements.txt`**: 의존성 패키지 목록
- **`data/settings.json`**: 앱 설정 파일
- **`data/products.json`**: 제품 데이터 파일

## 6. 기타 참고사항

### 프로젝트 구조
```
K-Food Timer/
├── main.py                  # 앱 진입점
├── modules/                 # 모듈 디렉토리
│   ├── timer_module.py      # 타이머 기능 모듈
│   ├── product_module.py    # 제품 데이터 관리 모듈
│   ├── settings_module.py   # 앱 설정 모듈
│   ├── ui_module.py         # UI 관련 모듈
│   ├── notification_module.py # 알림 모듈
│   ├── menu_module.py       # 메뉴 모듈
│   └── utils.py             # 유틸리티 함수
├── data/                    # 데이터 디렉토리
│   ├── products.json        # 제품 데이터
│   └── settings.json        # 앱 설정 데이터
├── tests/                   # 단위 테스트 디렉토리
├── docs/                    # 문서화 디렉토리
└── requirements.txt         # 의존성 패키지 목록
```

### 주요 데이터 구조
제품 데이터는 다음과 같은 구조로 저장됩니다:
```json
{
  "id": "제품고유ID",
  "name": "제품명",
  "category": "카테고리",
  "cooking_time": 조리시간(초),
  "description": "설명",
  "instructions": ["조리단계1", "조리단계2", ...],
  "favorite": 즐겨찾기여부(불리언),
  "last_used": "마지막사용시간"
}
``` 